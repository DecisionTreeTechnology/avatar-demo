<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Loading Test</title>
</head>
<body>
    <h1>Image Loading Diagnostic</h1>
    
    <h2>Test 1: Direct Image Tag</h2>
    <img id="test-img" src="/images/scenes/fertility-clinic/fertility-clinic-overlay.webp" 
         style="max-width: 300px; border: 2px solid red;" 
         onload="console.log('‚úÖ Image loaded successfully')"
         onerror="console.log('‚ùå Image failed to load')">
    
    <h2>Test 2: CSS Background</h2>
    <div id="test-bg" style="
        width: 300px; 
        height: 200px; 
        border: 2px solid blue;
        background-image: url('/images/scenes/fertility-clinic/fertility-clinic-overlay.webp');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
    ">CSS Background Test</div>
    
    <h2>Test 3: JavaScript Fetch</h2>
    <div id="fetch-result">Testing...</div>
    
    <h2>Test 4: Various Path Formats</h2>
    <div id="path-tests">
        <p>Absolute path: <img src="/images/scenes/fertility-clinic/fertility-clinic-overlay.webp" style="max-width: 100px;"></p>
        <p>Relative path: <img src="./images/scenes/fertility-clinic/fertility-clinic-overlay.webp" style="max-width: 100px;"></p>
        <p>No leading slash: <img src="images/scenes/fertility-clinic/fertility-clinic-overlay.webp" style="max-width: 100px;"></p>
    </div>
    
    <script>
        // Test 3: JavaScript fetch
        async function testImageFetch() {
            const paths = [
                '/images/scenes/fertility-clinic/fertility-clinic-overlay.webp',
                './images/scenes/fertility-clinic/fertility-clinic-overlay.webp',
                'images/scenes/fertility-clinic/fertility-clinic-overlay.webp'
            ];
            
            const results = [];
            
            for (const path of paths) {
                try {
                    const response = await fetch(path);
                    results.push(`${path}: ${response.status} (${response.statusText})`);
                    console.log(`‚úÖ ${path}: ${response.status}`);
                } catch (error) {
                    results.push(`${path}: ERROR - ${error.message}`);
                    console.log(`‚ùå ${path}: ${error.message}`);
                }
            }
            
            document.getElementById('fetch-result').innerHTML = results.join('<br>');
        }
        
        // Test current URL info
        console.log('Current URL:', window.location.href);
        console.log('Base URL:', document.baseURI);
        
        // Run fetch test
        testImageFetch();
        
        // Check if we're in production
        if (window.location.hostname !== 'localhost') {
            console.log('üåê Running in PRODUCTION mode');
            console.log('If images fail, check:');
            console.log('1. Are images deployed correctly?');
            console.log('2. Are there any .gitignore rules excluding images?');
            console.log('3. Are there any build process issues?');
            console.log('4. Are there any CDN/hosting cache issues?');
        } else {
            console.log('üè† Running in LOCAL mode');
        }
    </script>
</body>
</html>
